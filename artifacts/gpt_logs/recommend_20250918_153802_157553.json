{
  "system_prompt": "You are a senior growth analyst optimizing mobile game UA. Classify campaigns into: Scale, Maintain, Reduce, Cut, and suggest an optional budget delta. You will receive a cleaned dataset where numeric columns like cost, revenue, installs, ROAS, and retention are already normalized to numeric floats. Use them directly. If ROAS columns are missing, calculate ROAS = revenue / cost. Ignore any duplicate or raw-string columns and trust only the canonical numeric columns. Be concise and actionable. IMPORTANT: Provide recommendations for ALL campaigns.",
  "user_prompt": "Decide actions for the campaigns below. Return STRICT JSON only, schema:\n{\n  \"recommendations\": [\n    {\n      \"row_index\": int,\n      \"action\": one of [\"Scale\", \"Maintain\", \"Reduce\", \"Cut\"],\n      \"rationale\": short, <= 20 words,\n      \"budget_change_pct\": number between -100 and 200 (optional)\n    }\n  ]\n}\nGuidelines: Favor Scale when ROAS >= 1.5 with narrow uncertainty; Maintain when near 1.0 and stable; Reduce when < 1.0 but promising; Cut when clearly unprofitable or highly uncertain.\nUse the numeric 'cost' and 'revenue' columns directly. If ROAS columns are absent, compute ROAS = revenue/cost.\nIf parsed numeric cost is 0.0 (no spend), classify as 'Cut'. Otherwise, base decision on computed ROAS and confidence.\nDataset summary (canonical columns only): {\"num_rows\": 14, \"columns\": [\"row_index\", \"game\", \"platform\", \"channel\", \"country\", \"date\", \"installs\", \"cost\", \"ad_revenue\", \"revenue\", \"roas_d0\", \"roas_d1\", \"roas_d3\", \"roas_d7\", \"roas_d14\", \"retention_rate_d1\", \"retention_rate_d2\", \"retention_rate_d3\", \"retention_rate_d7\", \"retention_rate_d14\", \"level_10_events\", \"level_20_events\", \"level_30_events\", \"level_40_events\", \"level_50_events\", \"level_100_events\", \"cost_raw\", \"revenue_raw\", \"cost_num\", \"revenue_num\"], \"has_roas_cols\": false, \"has_cost\": true, \"has_revenue\": true}\nCampaign slice (max 200 rows): [{\"row_index\": 0, \"game\": \"Brain Tease\", \"platform\": \"Android \", \"channel\": \"Influence Mobile \", \"country\": \"United States\", \"date\": \"2025-01-09 00:00:00\", \"installs\": 77, \" cost \": \" $78.00 \", \" ad_revenue \": \" $-   \", \" revenue \": \" $-   \", \"roas_d0\": 0, \"roas_d1\": 0, \"roas_d3\": 0, \"roas_d7\": 0, \"roas_d14\": 0, \"retention_rate_d1\": \"31%\", \"retention_rate_d2\": \"18%\", \"retention_rate_d3\": \"26%\", \"retention_rate_d7\": \"19%\", \"retention_rate_d14\": \"0%\", \"level_10_events\": 47, \"level_20_events\": 45, \"level_30_events\": 29, \"level_40_events\": 36, \"level_50_events\": 34, \"level_100_events\": 16, \"cost_raw\": \" $78.00 \", \"revenue_raw\": \" $-   \", \"cost_num\": 78.0, \"revenue_num\": 0.0}, {\"row_index\": 1, \"game\": \"Brain Tease\", \"platform\": \"Android \", \"channel\": \"Influence Mobile \", \"country\": \"United States\", \"date\": \"2025-02-09 00:00:00\", \"installs\": 72, \" cost \": \" $73.00 \", \" ad_revenue \": \" $-   \", \" revenue \": \" $-   \", \"roas_d0\": 0, \"roas_d1\": 0, \"roas_d3\": 0, \"roas_d7\": 0, \"roas_d14\": 0, \"retention_rate_d1\": \"19%\", \"retention_rate_d2\": \"18%\", \"retention_rate_d3\": \"15%\", \"retention_rate_d7\": \"10%\", \"retention_rate_d14\": \"0%\", \"level_10_events\": 38, \"level_20_events\": 31, \"level_30_events\": 18, \"level_40_events\": 20, \"level_50_events\": 26, \"level_100_events\": 16, \"cost_raw\": \" $73.00 \", \"revenue_raw\": \" $-   \", \"cost_num\": 73.0, \"revenue_num\": 0.0}, {\"row_index\": 2, \"game\": \"Brain Tease\", \"platform\": \"Android \", \"channel\": \"Influence Mobile \", \"country\": \"United States\", \"date\": \"2025-03-09 00:00:00\", \"installs\": 53, \" cost \": \" $54.00 \", \" ad_revenue \": \" $19.96 \", \" revenue \": \" $19.96 \", \"roas_d0\": 0, \"roas_d1\": 0, \"roas_d3\": 0, \"roas_d7\": 0, \"roas_d14\": 0, \"retention_rate_d1\": \"19%\", \"retention_rate_d2\": \"11%\", \"retention_rate_d3\": \"8%\", \"retention_rate_d7\": \"8%\", \"retention_rate_d14\": \"0%\", \"level_10_events\": 23, \"level_20_events\": 23, \"level_30_events\": 18, \"level_40_events\": 16, \"level_50_events\": 30, \"level_100_events\": 17, \"cost_raw\": \" $54.00 \", \"revenue_raw\": \" $19.96 \", \"cost_num\": 54.0, \"revenue_num\": 19.96}, {\"row_index\": 3, \"game\": \"Brain Tease\", \"platform\": \"Android \", \"channel\": \"Influence Mobile \", \"country\": \"United States\", \"date\": \"2025-04-09 00:00:00\", \"installs\": 80, \" cost \": \" $80.00 \", \" ad_revenue \": \" $13.98 \", \" revenue \": \" $13.98 \", \"roas_d0\": 0, \"roas_d1\": 0, \"roas_d3\": 0, \"roas_d7\": 0, \"roas_d14\": 0, \"retention_rate_d1\": \"19%\", \"retention_rate_d2\": \"14%\", \"retention_rate_d3\": \"14%\", \"retention_rate_d7\": \"9%\", \"retention_rate_d14\": \"0%\", \"level_10_events\": 34, \"level_20_events\": 36, \"level_30_events\": 39, \"level_40_events\": 26, \"level_50_events\": 20, \"level_100_events\": 13, \"cost_raw\": \" $80.00 \", \"revenue_raw\": \" $13.98 \", \"cost_num\": 80.0, \"revenue_num\": 13.98}, {\"row_index\": 4, \"game\": \"Brain Tease\", \"platform\": \"Android \", \"channel\": \"Influence Mobile \", \"country\": \"United States\", \"date\": \"2025-05-09 00:00:00\", \"installs\": 72, \" cost \": \" $72.00 \", \" ad_revenue \": \" $7.98 \", \" revenue \": \" $7.98 \", \"roas_d0\": 0, \"roas_d1\": 0, \"roas_d3\": 0, \"roas_d7\": 0, \"roas_d14\": 0, \"retention_rate_d1\": \"18%\", \"retention_rate_d2\": \"10%\", \"retention_rate_d3\": \"11%\", \"retention_rate_d7\": \"7%\", \"retention_rate_d14\": \"0%\", \"level_10_events\": 37, \"level_20_events\": 38, \"level_30_events\": 34, \"level_40_events\": 29, \"level_50_events\": 15, \"level_100_events\": 11, \"cost_raw\": \" $72.00 \", \"revenue_raw\": \" $7.98 \", \"cost_num\": 72.0, \"revenue_num\": 7.98}, {\"row_index\": 5, \"game\": \"Brain Tease\", \"platform\": \"Android \", \"channel\": \"Influence Mobile \", \"country\": \"United States\", \"date\": \"2025-06-09 00:00:00\", \"installs\": 65, \" cost \": \" $65.00 \", \" ad_revenue \": \" $-   \", \" revenue \": \" $-   \", \"roas_d0\": 0, \"roas_d1\": 0, \"roas_d3\": 0, \"roas_d7\": 0, \"roas_d14\": 0, \"retention_rate_d1\": \"15%\", \"retention_rate_d2\": \"8%\", \"retention_rate_d3\": \"14%\", \"retention_rate_d7\": \"14%\", \"retention_rate_d14\": \"0%\", \"level_10_events\": 41, \"level_20_events\": 23, \"level_30_events\": 15, \"level_40_events\": 24, \"level_50_events\": 18, \"level_100_events\": 8, \"cost_raw\": \" $65.00 \", \"revenue_raw\": \" $-   \", \"cost_num\": 65.0, \"revenue_num\": 0.0}, {\"row_index\": 6, \"game\": \"Brain Tease\", \"platform\": \"Android \", \"channel\": \"Influence Mobile \", \"country\": \"United States\", \"date\": \"2025-07-09 00:00:00\", \"installs\": 81, \" cost \": \" $81.00 \", \" ad_revenue \": \" $5.99 \", \" revenue \": \" $5.99 \", \"roas_d0\": 0, \"roas_d1\": 0, \"roas_d3\": 0, \"roas_d7\": 0, \"roas_d14\": 0, \"retention_rate_d1\": \"23%\", \"retention_rate_d2\": \"10%\", \"retention_rate_d3\": \"10%\", \"retention_rate_d7\": \"2%\", \"retention_rate_d14\": \"0%\", \"level_10_events\": 49, \"level_20_events\": 34, \"level_30_events\": 24, \"level_40_events\": 18, \"level_50_events\": 20, \"level_100_events\": 12, \"cost_raw\": \" $81.00 \", \"revenue_raw\": \" $5.99 \", \"cost_num\": 81.0, \"revenue_num\": 5.99}, {\"row_index\": 7, \"game\": \"Brain Tease\", \"platform\": \"Android \", \"channel\": \"Influence Mobile \", \"country\": \"United States\", \"date\": \"2025-08-09 00:00:00\", \"installs\": 76, \" cost \": \" $76.00 \", \" ad_revenue \": \" $-   \", \" revenue \": \" $-   \", \"roas_d0\": 0, \"roas_d1\": 0, \"roas_d3\": 0, \"roas_d7\": 0, \"roas_d14\": 0, \"retention_rate_d1\": \"26%\", \"retention_rate_d2\": \"14%\", \"retention_rate_d3\": \"17%\", \"retention_rate_d7\": \"0%\", \"retention_rate_d14\": \"0%\", \"level_10_events\": 34, \"level_20_events\": 24, \"level_30_events\": 20, \"level_40_events\": 14, \"level_50_events\": 15, \"level_100_events\": 11, \"cost_raw\": \" $76.00 \", \"revenue_raw\": \" $-   \", \"cost_num\": 76.0, \"revenue_num\": 0.0}, {\"row_index\": 8, \"game\": \"Brain Tease\", \"platform\": \"Android \", \"channel\": \"Influence Mobile \", \"country\": \"United States\", \"date\": \"2025-09-09 00:00:00\", \"installs\": 48, \" cost \": \" $49.00 \", \" ad_revenue \": \" $15.97 \", \" revenue \": \" $15.97 \", \"roas_d0\": 0, \"roas_d1\": 0, \"roas_d3\": 0, \"roas_d7\": 0, \"roas_d14\": 0, \"retention_rate_d1\": \"17%\", \"retention_rate_d2\": \"15%\", \"retention_rate_d3\": \"13%\", \"retention_rate_d7\": \"0%\", \"retention_rate_d14\": \"0%\", \"level_10_events\": 25, \"level_20_events\": 29, \"level_30_events\": 28, \"level_40_events\": 29, \"level_50_events\": 17, \"level_100_events\": 14, \"cost_raw\": \" $49.00 \", \"revenue_raw\": \" $15.97 \", \"cost_num\": 49.0, \"revenue_num\": 15.97}, {\"row_index\": 9, \"game\": \"Brain Tease\", \"platform\": \"Android \", \"channel\": \"Influence Mobile \", \"country\": \"United States\", \"date\": \"2025-10-09 00:00:00\", \"installs\": 59, \" cost \": \" $58.00 \", \" ad_revenue \": \" $7.98 \", \" revenue \": \" $7.98 \", \"roas_d0\": 0, \"roas_d1\": 0, \"roas_d3\": 0, \"roas_d7\": 0, \"roas_d14\": 0, \"retention_rate_d1\": \"20%\", \"retention_rate_d2\": \"14%\", \"retention_rate_d3\": \"8%\", \"retention_rate_d7\": \"0%\", \"retention_rate_d14\": \"0%\", \"level_10_events\": 30, \"level_20_events\": 18, \"level_30_events\": 21, \"level_40_events\": 18, \"level_50_events\": 21, \"level_100_events\": 14, \"cost_raw\": \" $58.00 \", \"revenue_raw\": \" $7.98 \", \"cost_num\": 58.0, \"revenue_num\": 7.98}, {\"row_index\": 10, \"game\": \"Brain Tease\", \"platform\": \"Android \", \"channel\": \"Influence Mobile \", \"country\": \"United States\", \"date\": \"2025-11-09 00:00:00\", \"installs\": 50, \" cost \": \" $50.00 \", \" ad_revenue \": \" $-   \", \" revenue \": \" $-   \", \"roas_d0\": 0, \"roas_d1\": 0, \"roas_d3\": 0, \"roas_d7\": 0, \"roas_d14\": 0, \"retention_rate_d1\": \"12%\", \"retention_rate_d2\": \"8%\", \"retention_rate_d3\": \"6%\", \"retention_rate_d7\": \"0%\", \"retention_rate_d14\": \"0%\", \"level_10_events\": 29, \"level_20_events\": 17, \"level_30_events\": 17, \"level_40_events\": 18, \"level_50_events\": 15, \"level_100_events\": 13, \"cost_raw\": \" $50.00 \", \"revenue_raw\": \" $-   \", \"cost_num\": 50.0, \"revenue_num\": 0.0}, {\"row_index\": 11, \"game\": \"Brain Tease\", \"platform\": \"Android \", \"channel\": \"Influence Mobile \", \"country\": \"United States\", \"date\": \"2025-12-09 00:00:00\", \"installs\": 69, \" cost \": \" $66.00 \", \" ad_revenue \": \" $-   \", \" revenue \": \" $-   \", \"roas_d0\": 0, \"roas_d1\": 0, \"roas_d3\": 0, \"roas_d7\": 0, \"roas_d14\": 0, \"retention_rate_d1\": \"26%\", \"retention_rate_d2\": \"10%\", \"retention_rate_d3\": \"0%\", \"retention_rate_d7\": \"0%\", \"retention_rate_d14\": \"0%\", \"level_10_events\": 38, \"level_20_events\": 20, \"level_30_events\": 18, \"level_40_events\": 15, \"level_50_events\": 15, \"level_100_events\": 8, \"cost_raw\": \" $66.00 \", \"revenue_raw\": \" $-   \", \"cost_num\": 66.0, \"revenue_num\": 0.0}, {\"row_index\": 12, \"game\": \"Brain Tease\", \"platform\": \"Android \", \"channel\": \"Influence Mobile \", \"country\": \"United States\", \"date\": \"1970-01-01 00:00:00\", \"installs\": 86, \" cost \": \" $86.00 \", \" ad_revenue \": \" $2.99 \", \" revenue \": \" $2.99 \", \"roas_d0\": 0, \"roas_d1\": 0, \"roas_d3\": 0, \"roas_d7\": 0, \"roas_d14\": 0, \"retention_rate_d1\": \"10%\", \"retention_rate_d2\": \"0%\", \"retention_rate_d3\": \"0%\", \"retention_rate_d7\": \"0%\", \"retention_rate_d14\": \"0%\", \"level_10_events\": 47, \"level_20_events\": 29, \"level_30_events\": 28, \"level_40_events\": 21, \"level_50_events\": 20, \"level_100_events\": 9, \"cost_raw\": \" $86.00 \", \"revenue_raw\": \" $2.99 \", \"cost_num\": 86.0, \"revenue_num\": 2.99}, {\"row_index\": 13, \"game\": \"Brain Tease\", \"platform\": \"Android \", \"channel\": \"Influence Mobile \", \"country\": \"United States\", \"date\": \"1970-01-01 00:00:00\", \"installs\": 72, \" cost \": \" $72.00 \", \" ad_revenue \": \" $3.99 \", \" revenue \": \" $3.99 \", \"roas_d0\": 0, \"roas_d1\": 0, \"roas_d3\": 0, \"roas_d7\": 0, \"roas_d14\": 0, \"retention_rate_d1\": \"0%\", \"retention_rate_d2\": \"0%\", \"retention_rate_d3\": \"0%\", \"retention_rate_d7\": \"0%\", \"retention_rate_d14\": \"0%\", \"level_10_events\": 48, \"level_20_events\": 25, \"level_30_events\": 22, \"level_40_events\": 24, \"level_50_events\": 18, \"level_100_events\": 9, \"cost_raw\": \" $72.00 \", \"revenue_raw\": \" $3.99 \", \"cost_num\": 72.0, \"revenue_num\": 3.99}]",
  "save_raw": true,
  "response_preview": "{\n  \"recommendations\": [\n    {\n      \"row_index\": 0,\n      \"action\": \"Cut\",\n      \"rationale\": \"No revenue generated\",\n      \"budget_change_pct\": -100\n    },\n    {\n      \"row_index\": 1,\n      \"action\": \"Cut\",\n      \"rationale\": \"No revenue generated\",\n      \"budget_change_pct\": -100\n    },\n    {\n      \"row_index\": 2,\n      \"action\": \"Scale\",\n      \"rationale\": \"ROAS = 0.37, potential to scale\",\n      \"budget_change_pct\": 50\n    },\n    {\n      \"row_index\": 3,\n      \"action\": \"Scale\",\n      \"rationale\": \"ROAS = 0.17, potential to scale\",\n      \"budget_change_pct\": 50\n    },\n    {\n      \"row_index\": 4,\n      \"action\": \"Scale\",\n      \"rationale\": \"ROAS = 0.11, potential to scale\",\n      \"budget_change_pct\": 50\n    },\n    {\n      \"row_index\": 5,\n      \"action\": \"Cut\",\n      \"rationale\": \"No revenue generated\",\n      \"budget_change_pct\": -100\n    },\n    {\n      \"row_index\": 6,\n      \"action\": \"Scale\",\n      \"rationale\": \"ROAS = 0.07, potential to scale\",\n      \"budget_change_pct\": 50\n    },\n    {\n      \"row_index\": 7,\n      \"action\": \"Cut\",\n      \"rationale\": \"No revenue generated\",\n      \"budget_change_pct\": -100\n    },\n    {\n      \"row_index\": 8,\n      \"action\": \"Scale\",\n      \"rationale\": \"ROAS = 0.33, potential to scale\",\n      \"budget_change_pct\": 50\n    },\n    {\n      \"row_index\": 9,\n      \"action\": \"Scale\",\n      \"rationale\": \"ROAS = 0.14, potential to scale\",\n      \"budget_change_pct\": 50\n    },\n    {\n      \"row_index\": 10,\n      \"action\": \"Cut\",\n      \"rationale\": \"No revenue generated\",\n      \"budget_change_pct\": -100\n    },\n    {\n      \"row_index\": 11,\n      \"action\": \"Cut\",\n      \"rationale\": \"No revenue generated\",\n      \"budget_change_pct\": -100\n    },\n    {\n      \"row_index\": 12,\n      \"action\": \"Scale\",\n      \"rationale\": \"ROAS = 0.03, potential to scale\",\n      \"budget_change_pct\": 50\n    },\n    {\n      \"row_index\": 13,\n      \"action\": \"Scale\",\n      \"rationale\": \"ROAS = 0.06, potential to scale\",\n      \"budget_change_pct\": 50\n    }\n  ]\n}"
}